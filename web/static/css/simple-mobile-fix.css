/* Simple Mobile Fix CSS - No framework, mobile-first responsive layer
   Theme: purple-blue gradient (matches theme.css)
   Targets: iPhone 13/14, Pixel 6/7, iPad */

/* 1) Minimal Grid System (12-col, only classes used in templates) */
:root {
  --container-padding: 1rem;
  --gap: 0.75rem;
}

.container-fluid {
  padding-left: var(--container-padding);
  padding-right: var(--container-padding);
}

.row {
  display: flex;
  flex-wrap: wrap;
  margin-left: calc(var(--gap) * -0.5);
  margin-right: calc(var(--gap) * -0.5);
}

[class^="col-"],
[class*=" col-"] {
  padding-left: calc(var(--gap) * 0.5);
  padding-right: calc(var(--gap) * 0.5);
  box-sizing: border-box;
}

/* Base columns (mobile first) */
.col-12 { flex: 0 0 100%; max-width: 100%; }
.col-6  { flex: 0 0 50%;  max-width: 50%; }
.col-4  { flex: 0 0 33.3333%; max-width: 33.3333%; }
.col-3  { flex: 0 0 25%; max-width: 25%; }

/* Breakpoints */
@media (min-width: 768px) {
  .col-md-12 { flex: 0 0 100%; max-width: 100%; }
  .col-md-8  { flex: 0 0 66.6667%; max-width: 66.6667%; }
  .col-md-6  { flex: 0 0 50%; max-width: 50%; }
  .col-md-4  { flex: 0 0 33.3333%; max-width: 33.3333%; }
}

@media (min-width: 992px) {
  .col-lg-12 { flex: 0 0 100%; max-width: 100%; }
  .col-lg-6  { flex: 0 0 50%; max-width: 50%; }
  .col-lg-4  { flex: 0 0 33.3333%; max-width: 33.3333%; }
  .col-lg-3  { flex: 0 0 25%; max-width: 25%; }
}

/* 2) Navbar (collapse + dropdown) */
.navbar {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: #fff;
  padding: 0.5rem 0;
  position: sticky;
  top: 0;
  z-index: 1030;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
.navbar .container-fluid { display: flex; align-items: center; }
.navbar-brand {
  color: #fff;
  text-decoration: none;
  font-weight: 700;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}
.navbar-brand:hover { opacity: 0.9; }

.navbar-toggler {
  margin-left: auto;
  background: rgba(255,255,255,0.15);
  border: 1px solid rgba(255,255,255,0.35);
  color: #fff;
  border-radius: 6px;
  padding: 0.25rem 0.5rem;
  cursor: pointer;
}
.navbar-toggler:focus { outline: 2px solid rgba(255,255,255,0.5); }

.navbar .navbar-collapse {
  width: 100%;
  display: none;
  transition: max-height 0.3s ease;
}
.navbar .navbar-collapse.show {
  display: block;
}

.navbar-nav {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  gap: 0.5rem;
}
.navbar-nav .nav-item { position: relative; }
.navbar-nav .nav-link {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  color: #fff;
  text-decoration: none;
  padding: 0.5rem 0.75rem;
  border-radius: 6px;
  font-weight: 600;
}
.navbar-nav .nav-link:hover {
  background: rgba(255,255,255,0.12);
}
.navbar-nav .nav-link.active {
  background: rgba(255,255,255,0.2);
}

@media (min-width: 992px) {
  .navbar .navbar-collapse {
    display: flex !important;
    justify-content: space-between;
    align-items: center;
  }
}

/* Dropdown */
.dropdown { position: relative; }
.dropdown-toggle { cursor: pointer; }
.dropdown-menu {
  position: absolute;
  right: 0;
  top: 100%;
  min-width: 220px;
  background: #fff;
  color: #333;
  border-radius: 8px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.15);
  padding: 0.5rem 0;
  display: none;
  z-index: 2000;
  border: 1px solid rgba(0,0,0,0.05);
}
.dropdown-menu .dropdown-header {
  font-weight: 700;
  padding: 0.5rem 1rem;
  color: #555;
}
.dropdown-menu .dropdown-divider {
  height: 1px;
  background: #eee;
  margin: 0.25rem 0;
}
.dropdown-menu .dropdown-item {
  display: block;
  color: #333;
  text-decoration: none;
  padding: 0.5rem 1rem;
  font-weight: 600;
}
.dropdown-menu .dropdown-item:hover {
  background: rgba(102, 126, 234, 0.08);
}

.dropdown.show .dropdown-menu { display: block; }

/* 3) Modal (vanilla, compatible with openModal/closeModal) */
.modal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.55);
  z-index: 1050;
  overflow-y: auto;
}
.modal.show { display: block; }
.modal-dialog {
  position: relative;
  margin: 8% auto;
  max-width: 520px;
  width: calc(100% - 2rem);
}
.modal-content {
  background: #fff;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 20px 50px rgba(0,0,0,0.25);
  border: 1px solid rgba(0,0,0,0.05);
}
.modal-header, .modal-body, .modal-footer {
  padding: 1rem;
}
.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: #fff;
}
.modal-title { margin: 0; font-weight: 700; }
.modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
  background: #fafafa;
  border-top: 1px solid #eee;
}

/* Close button */
.btn-close {
  appearance: none;
  border: none;
  background: transparent;
  width: 1.25rem; height: 1.25rem;
  position: relative;
  opacity: 0.9;
  cursor: pointer;
}
.btn-close::before, .btn-close::after {
  content: "";
  position: absolute;
  top: 50%; left: 50%;
  width: 1rem; height: 2px;
  background: currentColor;
  transform-origin: center;
}
.btn-close::before { transform: translate(-50%, -50%) rotate(45deg); }
.btn-close::after  { transform: translate(-50%, -50%) rotate(-45deg); }

/* 4) Spinner & utility (spinner-border mimic) */
.spinner-border {
  display: inline-block;
  width: 1.75rem; height: 1.75rem;
  border: 3px solid #f3f3f3;
  border-top: 3px solid #667eea;
  border-radius: 50%;
  animation: smb-spin 1s linear infinite;
}
@keyframes smb-spin {
  to { transform: rotate(360deg); }
}

/* 5) Buttons, alerts, badges tiny fixes (complement theme.css) */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.35rem;
  cursor: pointer;
  user-select: none;
}
.btn:disabled { opacity: 0.6; cursor: not-allowed; }
.btn-xs { padding: 0.25rem 0.5rem; font-size: 0.75rem; border-width: 1px; }

.alert {
  border-radius: 8px;
  padding: 0.75rem 1rem;
  border: 1px solid transparent;
}
.alert-success { background: #e6ffed; color: #1f7a3e; border-color: #bdf5cd; }
.alert-info    { background: #eef5ff; color: #1c4e80; border-color: #cfe0ff; }
.alert-warning { background: #fff7e0; color: #7a5a00; border-color: #ffe9a6; }
.alert-danger  { background: #ffeef0; color: #8a1f2d; border-color: #ffc2c9; }

/* 6) Input group (used in PPPoE form) */
.input-group {
  display: flex;
  width: 100%;
}
.input-group-text {
  display: inline-flex;
  align-items: center;
  padding: 0 0.75rem;
  border-top-left-radius: 8px;
  border-bottom-left-radius: 8px;
}
.input-group + .form-text { margin-top: 0.25rem; color: #6c757d; font-size: 0.85rem; }

/* 7) Tables compact mode on small screens */
@media (max-width: 767.98px) {
  .table { width: 100%; border-collapse: collapse; }
  .table th, .table td { padding: 0.5rem; }
  .table-responsive { overflow-x: auto; }
}

/* 8) Page header compact variant (PPPoE header) */
.bg-light { background: #f8f9fa !important; }
.border-bottom { border-bottom: 1px solid #e5e7eb !important; }
.py-2 { padding-top: 0.5rem !important; padding-bottom: 0.5rem !important; }

/* 9) Quick actions bar (mobile) */
.quick-actions {
  display: flex; gap: 0.5rem; padding: 0.5rem 0;
}

/* 10) Dropdown caret (optional) */
.dropdown-toggle::after {
  content: "▾";
  margin-left: 0.35rem;
  font-size: 0.75em;
  opacity: 0.85;
}

/* 11) Minor fixes for non-Bootstrap environment */
.table-hover tbody tr { transition: background-color 0.2s ease; }
.table-hover tbody tr:hover { background: rgba(102, 126, 234, 0.05); }
.table thead tr { background: linear-gradient(135deg, #495057 0%, #6c757d 100%); color: #fff; }

.badge { display: inline-block; }

/* 12) Helpers */
.me-2 { margin-right: 0.5rem !important; }
.ms-1 { margin-left: 0.25rem !important; }
.ms-2 { margin-left: 0.5rem !important; }
.mt-1 { margin-top: 0.25rem !important; }
.mt-2 { margin-top: 0.5rem !important; }
.mt-3 { margin-top: 1rem !important; }
.mb-0 { margin-bottom: 0 !important; }
.mb-2 { margin-bottom: 0.5rem !important; }
.mb-3 { margin-bottom: 1rem !important; }
.d-flex { display: flex !important; }
.justify-content-between { justify-content: space-between !important; }
.align-items-center { align-items: center !important; }
.text-center { text-align: center !important; }
.text-muted { color: #6c757d !important; }
.text-dark { color: #212529 !important; }
.text-white { color: #fff !important; }

/* 13) Accessibility: focus */
a:focus, button:focus, .btn:focus, .form-control:focus, .form-select:focus {
  outline: 2px solid rgba(102, 126, 234, 0.55);
  outline-offset: 2px;
}
/* ===== Additional utilities and components for no-framework UI ===== */

/* Hamburger icon for navbar toggler */
.navbar-toggler-icon {
  display: inline-block;
  width: 1.25rem;
  height: 1rem;
  background:
    linear-gradient(#ffffff, #ffffff) center 10% / 100% 2px no-repeat,
    linear-gradient(#ffffff, #ffffff) center 50% / 100% 2px no-repeat,
    linear-gradient(#ffffff, #ffffff) center 90% / 100% 2px no-repeat;
  opacity: 0.95;
}

/* Background color utilities (match theme palette) */
.bg-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important; color: #fff !important; }
.bg-success { background: #28a745 !important; color: #fff !important; }
.bg-info    { background: #20c997 !important; color: #fff !important; }
.bg-danger  { background: #dc3545 !important; color: #fff !important; }
.bg-warning { background: #ffc107 !important; color: #212529 !important; }

/* Button variants */
.btn-success {
  background: #28a745;
  border-color: #218838;
  color: #fff;
}
.btn-success:hover { background: #218838; border-color: #1e7e34; }

.btn-secondary {
  background: #6c757d;
  border-color: #5c636a;
  color: #fff;
}
.btn-secondary:hover { background: #5c636a; border-color: #4b5258; }

.btn-danger {
  background: #dc3545;
  border-color: #c82333;
  color: #fff;
}
.btn-danger:hover { background: #c82333; border-color: #bd2130; }

.btn-light {
  background: #ffffff;
  border-color: #e5e7eb;
  color: #212529;
}
.btn-light:hover { background: #f8f9fa; border-color: #d1d5db; }

/* Display utilities for responsive behavior */
.d-lg-none { display: none !important; }
@media (max-width: 991.98px) {
  .d-lg-none { display: block !important; }
}

/* Table cell visibility control (used by Uptime column) */
.d-none { display: none; }
@media (min-width: 768px) {
  .d-md-table-cell { display: table-cell !important; }
}

/* Width/height utilities */
.w-100 { width: 100% !important; }
.h-100 { height: 100% !important; }

/* Font size utility */
.fs-5 { font-size: 1.25rem !important; }

/* Rounded helpers (used in some components) */
.rounded { border-radius: 0.5rem !important; }
.rounded-2 { border-radius: 0.75rem !important; }

/* End of additions */
/* ===== Device-specific tuning: Poco X3 NFC (approx 393–412 CSS px width, 20:9, 1080x2400) ===== */
@media screen and (max-width: 420px) {
  :root {
    --container-padding: 0.5rem;
    --gap: 0.5rem;
  }

  /* Navbar + header sizing */
  .navbar .container-fluid { gap: 0.5rem; }
  .navbar-brand { font-size: clamp(1rem, 4.2vw, 1.15rem); }
  .page-header { padding: 0.5rem 0; }
  .page-header h1 { font-size: clamp(1.1rem, 4.8vw, 1.35rem); }

  /* Quick actions */
  .quick-actions { gap: 0.5rem; }
  .quick-actions .btn { width: 100%; min-height: 46px; }

  /* Cards + stats */
  .stats-card h4 { font-size: clamp(1.1rem, 5.8vw, 1.4rem); }
  .router-card { padding: 10px; margin-bottom: 10px; }
  .router-card h5 { font-size: clamp(0.95rem, 4.2vw, 1.05rem); }

  /* Buttons: larger tap target but compact text */
  .btn { min-height: 46px; font-size: clamp(0.82rem, 3.6vw, 0.95rem); padding: 0.45rem 0.85rem; }
  .btn-sm { min-height: 42px; }
  .btn-xs { min-height: 38px; }
  .btn-action i { margin-right: 0.3rem; }

  /* Forms */
  .form-label { font-size: 0.9rem; }
  .form-control, .form-select { font-size: clamp(0.9rem, 3.7vw, 1rem); padding: 0.6rem 0.75rem; }
  .input-group-text { padding: 0 0.6rem; }

  /* Tables: compact while keeping readability */
  .table th, .table td { padding: 0.45rem 0.35rem; font-size: 0.82rem; }
  .table-responsive { -webkit-overflow-scrolling: touch; }

  /* Badges */
  .badge { font-size: 0.72rem; padding: 0.35em 0.6em; }

  /* Dropdown menu: fit small width */
  .dropdown-menu { max-width: 88vw; width: max-content; min-width: 220px; }

  /* Modals: better vertical fit on tall/narrow screens */
  .modal-dialog { margin: 12vh auto; width: calc(100% - 1.5rem); max-width: 520px; }
  .modal-body { font-size: 0.95rem; }
}

/* Fine-tune for taller 20:9 devices (common on Poco X3 NFC) */
@media screen and (max-width: 420px) and (min-height: 760px) {
  /* Increase spacing slightly using available height */
  .stats-card { padding: 14px; }
  .card-body { padding: 0.9rem; }
  .row.g-3, .row.g-2 { row-gap: 0.6rem; }
  .page-header h1 { font-size: clamp(1.15rem, 4.6vw, 1.4rem); }
  .btn { min-height: 48px; }
}

/* Extra-tight mode for 360–380px widths (fallback for similar Androids) */
@media screen and (max-width: 380px) {
  .badge { font-size: 0.68rem; }
  .router-card h5 { font-size: 0.95rem; }
  .btn { font-size: 0.8rem; padding: 0.4rem 0.75rem; }
  .form-control, .form-select { font-size: 0.9rem; }
}
/* Mobile Navbar: improved hamburger collapse behavior and styling */
@media (max-width: 991.98px) {
  /* Ensure navbar relative positioning for absolute collapse */
  .navbar { position: sticky; }
  .navbar .container-fluid { position: relative; }

  /* Collapse panel below navbar */
  .navbar .navbar-collapse {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    z-index: 1040;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 0.5rem;
    border-bottom-left-radius: 12px;
    border-bottom-right-radius: 12px;
    box-shadow: 0 12px 24px rgba(0,0,0,0.15);
    display: none;
  }
  .navbar .navbar-collapse.show { display: block; }

  /* Stack nav items vertically inside collapse */
  .navbar .navbar-collapse .navbar-nav {
    flex-direction: column;
    gap: 0.25rem;
  }
  .navbar .navbar-collapse .nav-link {
    padding: 0.6rem 0.75rem;
    border-radius: 8px;
  }
  .navbar .navbar-collapse .nav-link:hover {
    background: rgba(255,255,255,0.15);
  }

  /* Reduce 'pill' bubble effect for active link inside collapse */
  .navbar .navbar-collapse .nav-pills .nav-link {
    background: transparent;
  }
  .navbar .navbar-collapse .nav-pills .nav-link.active {
    background: rgba(255,255,255,0.15);
  }

  /* Hamburger visual feedback when expanded */
  .navbar .navbar-toggler[aria-expanded="true"] {
    background: rgba(255,255,255,0.25);
    border-color: rgba(255,255,255,0.6);
  }
  .navbar .navbar-toggler-icon {
    display: inline-block;
    width: 1.25rem;
    height: 1rem;
    background:
      linear-gradient(#ffffff, #ffffff) center 10% / 100% 2px no-repeat,
      linear-gradient(#ffffff, #ffffff) center 50% / 100% 2px no-repeat,
      linear-gradient(#ffffff, #ffffff) center 90% / 100% 2px no-repeat;
    opacity: 0.95;
  }
}